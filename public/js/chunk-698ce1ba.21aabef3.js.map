{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./node_modules/core-js/internals/array-method-is-strict.js","webpack:///./src/views/UserPermission.vue?0476","webpack:///src/views/UserPermission.vue","webpack:///./src/views/UserPermission.vue?99e9","webpack:///./src/views/UserPermission.vue"],"names":["$","IndexedObject","toIndexedObject","arrayMethodIsStrict","nativeJoin","join","ES3_STRINGS","Object","STRICT_METHOD","target","proto","forced","separator","call","this","undefined","fails","module","exports","METHOD_NAME","argument","method","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","_v","_s","$parent","pageTitle","page_message","length","_e","attrs","on","$event","updatePermission","style","windowHeight","_l","data","dta","index","key","class","replace","toggleCheckUncheck","d","dindex","domProps","permission_list","includes","id","definition","staticRenderFns","component"],"mappings":"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","file":"js/chunk-698ce1ba.21aabef3.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\",staticStyle:{\"margin-top\":\"20px\"}},[_c('div',{staticClass:\"card-header bg-white header-elements-inline\"},[_c('h6',{staticClass:\"card-title\"},[_vm._v(_vm._s(_vm.$parent.pageTitle)+\" \"),((_vm.page_message.length > 0))?_c('span',{staticClass:\"text-danger\"},[_vm._v(\"(\"+_vm._s(_vm.page_message)+\")\")]):_vm._e()]),_c('div',{staticClass:\"header-elements\"},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.updatePermission()}}},[_vm._v(\"Update\")])])]),_c('div',{staticClass:\"card-body\",style:({ 'height': ((_vm.windowHeight - 170) + \"px\")})},[_c('div',{staticClass:\"row\"},_vm._l((_vm.data.user_permissions),function(dta,index){return _c('div',{key:index,staticClass:\"col-xs-12 col-md-3\",staticStyle:{\"margin-bottom\":\"20px\"}},[_c('input',{class:['mother_'+index.replace(/\\s/g, '')],attrs:{\"value\":\"\",\"type\":\"checkbox\"},on:{\"click\":function($event){_vm.toggleCheckUncheck(index.replace(/\\s/g, ''), ('mother_'+index.replace(/\\s/g, '')))}}}),_vm._v(\" \"),_c('span',{staticStyle:{\"font-size\":\"18px\",\"font-weight\":\"bold\"}},[_vm._v(_vm._s(index))]),_c('br'),_vm._l((dta),function(d,dindex){return _c('span',{key:dindex},[_c('input',{class:[''+index.replace(/\\s/g, '')],attrs:{\"type\":\"checkbox\",\"name\":\"user_permission[]\"},domProps:{\"checked\":(_vm.data.permission_list.includes(d.id)?'checked':''),\"value\":(d.id)}}),_vm._v(\" \"+_vm._s(d.definition)),_c('br')])})],2)}),0)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"card\" style=\"margin-top: 20px\">\n        <div class=\"card-header bg-white header-elements-inline\">\n            <h6 class=\"card-title\">{{$parent.pageTitle}} <span class=\"text-danger\" v-if=\"(page_message.length > 0)\">({{page_message}})</span></h6>\n            <div class=\"header-elements\">\n                <button type=\"button\" class=\"btn btn-primary\" v-on:click=\"updatePermission()\">Update</button>\n            </div>\n        </div>\n        <div class=\"card-body\" :style=\"{ 'height': `${windowHeight - 170}px`}\">\n\n            <div class=\"row\">\n                <div v-for=\"(dta, index) in data.user_permissions\" v-bind:key=\"index\" class=\"col-xs-12 col-md-3\" style=\"margin-bottom: 20px;\">\n                    <input value=\"\" type=\"checkbox\" :class=\"['mother_'+index.replace(/\\s/g, '')]\" v-on:click=\"toggleCheckUncheck(index.replace(/\\s/g, ''), ('mother_'+index.replace(/\\s/g, '')))\"> <span style=\"font-size: 18px; font-weight: bold\">{{index}}</span><br>\n\n                    <span v-for=\"(d, dindex) in dta\" v-bind:key=\"dindex\">\n                        <input type=\"checkbox\" name=\"user_permission[]\" :checked=\"(data.permission_list.includes(d.id)?'checked':'')\" :class=\"[''+index.replace(/\\s/g, '')]\" :value=\"(d.id)\">\n                        {{d.definition}}<br>\n                    </span>\n                </div>\n        </div>\n\n        </div>\n    </div>\n</template>\n\n<script>\n    import axios from \"axios\";\n\n    export default {\n        name: \"UserPermission\",\n        data() {\n            return {\n                page_message:'',\n                windowHeight: 0,\n                windowWidth: 0,\n                data: [],\n            }\n        },\n        mounted() {\n            this.windowHeight = window.innerHeight\n            this.windowWidth = window.innerWidth\n            window.addEventListener('resize', () => {\n                this.windowHeight = window.innerHeight\n                this.windowWidth = window.innerWidth\n            })\n            this.$parent.pageTitle = \"User () Permission\"\n            this.$parent.showPageTitle = false\n            this.loadPageData();\n        },\n        methods: {\n            toggleCheckUncheck(__class_name, __parent_class_name)\n            {\n                //var checkBoxes = $(\".\"+__class_name);\n                //checkBoxes.prop(\"checked\", !checkBoxes.prop(\"checked\"));\n                var checkBoxes = $(\".\"+__class_name);\n                checkBoxes.prop(\"checked\", $(\".\"+__parent_class_name).prop(\"checked\"));\n            },\n            updatePermission()\n            {\n                if(confirm(\"Are You Sure ?\"))\n                {\n                    this.page_message = 'Please Wait.....'\n                    var newPermissionList = []\n\n                    $('input[type=checkbox]').each(function () {\n                        if(this.checked && $(this).val().length > 0)\n                        {\n                            newPermissionList.push($(this).val())\n                        }\n                    });\n\n                    axios\n                        .post(this.$parent.apiEndPoint+\"user/\"+this.$route.params.user_id+\"/permissions\", {\n                            permission_ids: newPermissionList.join(\"|\")\n                        },{\n                            headers: {\n                                Authorization: 'Basic '+REDIS_TOKEN\n                            },\n                        })\n                        .then(response => {\n                            this.page_message = 'User Updated Successfully. Reloading User Table....'\n                            window.location.href = `/users`;\n                        })\n                        .catch(error => {\n                            if (error.response) {\n                                switch (error.response.status)\n                                {\n                                    case 401:\n                                        this.$parent.makeForceLogout()\n                                        break;\n                                    case 406:\n                                        console.log(error.response)\n                                        this.userCreationErrorMessage = error.response.data.message.join(\",\")\n                                        break;\n                                }\n                                this.page_message = ''\n                            }\n                        });\n                }\n            },\n            loadPageData(){\n                this.page_message = 'Preparing Permission Data'\n                axios\n                    .get(this.$parent.apiEndPoint+\"user/\"+this.$route.params.user_id+\"/permissions\", {\n                        headers: {\n                            Authorization: 'Basic '+REDIS_TOKEN\n                        }\n                    })\n                    .then(response => {\n                        this.page_message = ''\n                        this.data = response.data.data\n                        this.$parent.pageTitle = \"User (\"+response.data.data.user_details.username+\") Permission\"\n                    })\n                    .catch(error => {\n                        if (error.response) {\n                            switch (error.response.status)\n                            {\n                                case 401:\n                                    this.$parent.makeForceLogout()\n                                    break;\n                            }\n                        }\n                    });\n            },\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPermission.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPermission.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserPermission.vue?vue&type=template&id=05d19f56&scoped=true&\"\nimport script from \"./UserPermission.vue?vue&type=script&lang=js&\"\nexport * from \"./UserPermission.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"05d19f56\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}