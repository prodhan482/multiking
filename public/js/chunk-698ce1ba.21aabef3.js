(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-698ce1ba"],{a15b:function(e,t,s){"use strict";var a=s("23e7"),i=s("44ad"),n=s("fc6a"),r=s("a640"),o=[].join,c=i!=Object,d=r("join",",");a({target:"Array",proto:!0,forced:c||!d},{join:function(e){return o.call(n(this),void 0===e?",":e)}})},a640:function(e,t,s){"use strict";var a=s("d039");e.exports=function(e,t){var s=[][e];return!!s&&a((function(){s.call(null,t||function(){throw 1},1)}))}},b0418:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"card",staticStyle:{"margin-top":"20px"}},[s("div",{staticClass:"card-header bg-white header-elements-inline"},[s("h6",{staticClass:"card-title"},[e._v(e._s(e.$parent.pageTitle)+" "),e.page_message.length>0?s("span",{staticClass:"text-danger"},[e._v("("+e._s(e.page_message)+")")]):e._e()]),s("div",{staticClass:"header-elements"},[s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.updatePermission()}}},[e._v("Update")])])]),s("div",{staticClass:"card-body",style:{height:e.windowHeight-170+"px"}},[s("div",{staticClass:"row"},e._l(e.data.user_permissions,(function(t,a){return s("div",{key:a,staticClass:"col-xs-12 col-md-3",staticStyle:{"margin-bottom":"20px"}},[s("input",{class:["mother_"+a.replace(/\s/g,"")],attrs:{value:"",type:"checkbox"},on:{click:function(t){e.toggleCheckUncheck(a.replace(/\s/g,""),"mother_"+a.replace(/\s/g,""))}}}),e._v(" "),s("span",{staticStyle:{"font-size":"18px","font-weight":"bold"}},[e._v(e._s(a))]),s("br"),e._l(t,(function(t,i){return s("span",{key:i},[s("input",{class:[""+a.replace(/\s/g,"")],attrs:{type:"checkbox",name:"user_permission[]"},domProps:{checked:e.data.permission_list.includes(t.id)?"checked":"",value:t.id}}),e._v(" "+e._s(t.definition)),s("br")])}))],2)})),0)])])},i=[],n=(s("a15b"),s("bc3a")),r=s.n(n),o={name:"UserPermission",data:function(){return{page_message:"",windowHeight:0,windowWidth:0,data:[]}},mounted:function(){var e=this;this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth,window.addEventListener("resize",(function(){e.windowHeight=window.innerHeight,e.windowWidth=window.innerWidth})),this.$parent.pageTitle="User () Permission",this.$parent.showPageTitle=!1,this.loadPageData()},methods:{toggleCheckUncheck:function(e,t){var s=$("."+e);s.prop("checked",$("."+t).prop("checked"))},updatePermission:function(){var e=this;if(confirm("Are You Sure ?")){this.page_message="Please Wait.....";var t=[];$("input[type=checkbox]").each((function(){this.checked&&$(this).val().length>0&&t.push($(this).val())})),r.a.post(this.$parent.apiEndPoint+"user/"+this.$route.params.user_id+"/permissions",{permission_ids:t.join("|")},{headers:{Authorization:"Basic "+REDIS_TOKEN}}).then((function(t){e.page_message="User Updated Successfully. Reloading User Table....",window.location.href="/users"})).catch((function(t){if(t.response){switch(t.response.status){case 401:e.$parent.makeForceLogout();break;case 406:console.log(t.response),e.userCreationErrorMessage=t.response.data.message.join(",");break}e.page_message=""}}))}},loadPageData:function(){var e=this;this.page_message="Preparing Permission Data",r.a.get(this.$parent.apiEndPoint+"user/"+this.$route.params.user_id+"/permissions",{headers:{Authorization:"Basic "+REDIS_TOKEN}}).then((function(t){e.page_message="",e.data=t.data.data,e.$parent.pageTitle="User ("+t.data.data.user_details.username+") Permission"})).catch((function(t){if(t.response)switch(t.response.status){case 401:e.$parent.makeForceLogout();break}}))}}},c=o,d=s("2877"),p=Object(d["a"])(c,a,i,!1,null,"05d19f56",null);t["default"]=p.exports}}]);
//# sourceMappingURL=chunk-698ce1ba.21aabef3.js.map